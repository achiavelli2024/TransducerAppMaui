<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="3dp">

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#FAFAFA"
    android:padding="8dp">

    
    <!-- CARD: Conexão -->
    <!-- CARD: Conexão -->
    <!-- CARD: Conexão -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@android:color/white"
        android:padding="8dp"
        android:layout_marginBottom="6dp"
        android:elevation="1dp"
        android:orientation="vertical">

        <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Connection"
            android:textStyle="bold"
            android:textSize="14sp"
            android:textColor="#212121"
            android:layout_marginBottom="4dp" />

        <LinearLayout
            android:orientation="horizontal"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:gravity="center_vertical">

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="@string/label_ip"
                android:textColor="#424242"
                android:layout_marginEnd="4dp"
                android:textSize="12sp" />

            <EditText
                android:id="@+id/txtIP"
                android:gravity="center"
                android:padding="4dp"
                android:layout_width="0dp"
                android:layout_height="24dp"
                android:layout_weight="1"
                android:inputType="text"
                android:ems="10"
                android:paddingLeft="4dp"
                android:paddingRight="4dp"
                android:textSize="12sp"
                android:background="@android:drawable/edit_text"
                android:textColor="#212121" />

            <Button
                android:id="@+id/btnConnectIP"
                android:layout_width="wrap_content"
                android:layout_height="32dp"
                android:text="@string/btn_connect"
                android:textSize="10sp"/>

            <Button
                android:id="@+id/btnDisconnect"
                android:layout_width="wrap_content"
                android:layout_height="32dp"
                android:text="@string/btn_disconnect"
                android:visibility="gone"
                android:textSize="10sp" />

        </LinearLayout>



        <LinearLayout
            android:orientation="horizontal"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:gravity="center_vertical"
            android:layout_marginTop="4dp">

            <TextView
                android:id="@+id/connectionIndicator"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="●"
                android:textSize="14sp"
                android:textColor="#F44336"
                android:layout_marginEnd="4dp" />

            <TextView
                android:id="@+id/tvConnectionStatus"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="@string/status_disconnected"
                android:textStyle="italic"
                android:textSize="12sp"
                android:textColor="#616161" />
        
        
        <Space
         android:layout_width="2dp"
         android:layout_height="wrap_content" />

            
                <!--Comando debub invivisel-->
                <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Debugger"
                android:visibility="gone"
                android:layout_marginEnd="4dp"
                android:textColor="#424242"
                android:textSize="12sp" />

            <Switch
                android:id="@+id/switchDebugger"
                android:visibility="gone"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:checked="false" />

                           
                <Space
                android:layout_width="1dp"
                android:layout_height="wrap_content" />
            

            <Switch
                 android:id="@+id/switchShowTrace"
                 android:layout_width="wrap_content"
                 android:layout_height="wrap_content"
                 android:text="Show trace"
                 android:textColor="#424242"
                 android:padding="6dp"
                 android:checked="false"
                 android:textSize="12sp"/>

            <Switch
                android:id="@+id/switchShowStats"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Show Stats"
                android:textSize="12sp"
                android:textColor="#424242"
                android:padding="6dp"
                android:checked="false" />
      
        
        </LinearLayout>

            <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:padding="8dp">

    <TextView
        android:id="@+id/tvReconnectCount"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Reconnection: 0"
        android:layout_marginEnd="16dp" />

    <TextView
        android:id="@+id/tvConnUptime"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Uptime: 00:00:00" />
            </LinearLayout>
       
    </LinearLayout>
    <!-- CARD: Conexão -->
    <!-- CARD: Conexão -->
    <!-- CARD: Conexão -->





    <!-- CARD: Live values-->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@android:color/white"
        android:padding="8dp"
        android:layout_marginBottom="6dp"
        android:elevation="1dp"
        android:orientation="vertical">



            


            

            <!--Aqui-->

     <LinearLayout
            android:orientation="horizontal"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:gravity="center_vertical"
            android:layout_marginTop="0dp">                                                     


               
            
   
                
    <TextView
        android:id="@+id/testIndicator"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="●"
        android:textSize="14sp"
        android:textColor="#F44336"
        android:layout_marginStart="0dp" />


         <Space
         android:layout_width="3dp"
         android:layout_height="wrap_content" />


                
                    
                    
                    
                    
    <TextView
        android:id="@+id/tvLiveValuesTitle"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Live values"
        android:textStyle="bold"
        android:textSize="14sp"
        android:textColor="#212121" />

    

                                                           

            <!--aqui-->

                </LinearLayout>


        <LinearLayout
            android:orientation="horizontal"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:gravity="center_vertical"
            android:layout_marginTop="4dp">


            <!-- Botão Oculto -->
            <Button
                android:id="@+id/btnOpenRunner"
                android:visibility="gone"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Test Runner" />

            
                <!-- Botão Oculto -->
             <Button
                android:id="@+id/btnOpenLayoutAndroid"
                android:visibility="gone"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Test Layout" />




            </LinearLayout>








        <LinearLayout
            android:orientation="horizontal"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:gravity="center_vertical">

            <!-- Torque -->
            <LinearLayout
                android:orientation="vertical"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="@string/label_torque"
                    android:textSize="12sp"
                    android:textColor="#757575" />

                <TextView
                    android:id="@+id/tvTorque"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="0.000 Nm"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:textColor="#212121"
                    android:layout_marginTop="1dp" />
            </LinearLayout>

            <!-- Ângulo -->
            <LinearLayout
                android:orientation="vertical"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="@string/label_angle"
                    android:textSize="12sp"
                    android:textColor="#757575" />

                <TextView
                    android:id="@+id/tvAngle"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="0.00 º"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:textColor="#212121"
                    android:layout_marginTop="1dp" />
            </LinearLayout>

            <!-- Resultados -->
            <LinearLayout
                android:orientation="vertical"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="@string/label_results"
                    android:textSize="12sp"
                    android:textColor="#757575" />

                <TextView
                    android:id="@+id/tvResultsCounter"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="0"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:textColor="#212121"
                    android:layout_marginTop="1dp" />
            </LinearLayout>

        </LinearLayout>
    </LinearLayout>

    <!-- CARD: Parâmetros (compacto) -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@android:color/white"
        android:padding="8dp"
        android:layout_marginBottom="6dp"
        android:elevation="1dp"
        android:orientation="vertical">

        <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="@string/label_parameters"
            android:textStyle="bold"
            android:textSize="14sp"
            android:textColor="#212121"
            android:layout_marginBottom="4dp" />



            <!-- Threshold / Timeout -->
            <!-- Threshold / Timeout -->
            <!-- Threshold / Timeout -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center_vertical">

            

                <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="@string/label_threshold"
                android:textColor="#424242"
                android:textSize="12sp"
                android:layout_marginEnd="4dp" />

                <EditText
                android:id="@+id/txtThresholdIniFree"
                android:layout_width="50dp"
                android:layout_height="24dp"
                android:ems="5"
                android:textSize="12sp"
                android:inputType="numberDecimal"
                android:hint="@string/hint_threshold_ini"
                android:padding="4dp"
                android:gravity="center"
                android:background="@android:drawable/edit_text" />
            
                
            



           



            

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="@string/label_timeout"
                    android:textColor="#424242"
                    android:textSize="12sp"
                    android:layout_marginEnd="4dp" />

                <EditText
                android:id="@+id/txtTimeoutFree"
                android:layout_width="50dp"
                android:layout_height="24dp"
                android:ems="5"
                android:textSize="12sp"
                android:maxLength="5"
                android:inputType="numberDecimal"
                android:singleLine="true"
                android:padding="4dp"
                android:hint="0.00"
                android:gravity="center"
                android:background="@android:drawable/edit_text" />




                <TextView
                 android:layout_width="wrap_content"
                 android:layout_height="wrap_content"
                 android:text="Frequency:"
                 android:textColor="#424242"
                 android:textSize="12sp"
                 android:layout_marginEnd="4dp" />

                <EditText
                android:id="@+id/txtFrequencia"
                android:layout_width="60dp"
                android:layout_height="24dp"
                android:ems="5"
                android:textSize="12sp"
                android:maxLength="5"
                android:inputType="numberDecimal"
                android:singleLine="true"
                android:padding="4dp"
                android:hint="0.00"
                android:gravity="center"
                android:background="@android:drawable/edit_text" />


            
                
                
                
                
                
           
        
            
            
            </LinearLayout>

        <!-- Torque min/nom/max -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center_vertical"
            android:layout_marginTop="2dp">

            <LinearLayout
                android:layout_width="0dp"
                android:layout_weight="1"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:gravity="center_vertical">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="@string/label_torque_min"
                    android:textColor="#424242"
                    android:textSize="12sp"
                    android:layout_marginEnd="4dp" />

                <EditText
                    android:id="@+id/txtMinimumTorque"
                    android:layout_width="wrap_content"
                    android:layout_height="24dp"
                    android:ems="5"
                    android:textSize="12sp"
                    android:maxLength="5"
                    android:inputType="numberDecimal"
                    android:singleLine="true"
                    android:padding="4dp"
                    android:hint="0.00"
                    android:gravity="center"
                    android:background="@android:drawable/edit_text" />
            </LinearLayout>

            <Space
                android:layout_width="4dp"
                android:layout_height="wrap_content" />

            <LinearLayout
                android:layout_width="0dp"
                android:layout_weight="1"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:gravity="center_vertical">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="@string/label_torque_nominal"
                    android:textColor="#424242"
                    android:textSize="12sp"
                    android:layout_marginEnd="4dp" />

                <EditText
                    android:id="@+id/txtNominalTorque"
                    android:layout_width="wrap_content"
                    android:layout_height="24dp"
                    android:ems="5"
                    android:textSize="12sp"
                    android:maxLength="5"
                    android:inputType="numberDecimal"
                    android:singleLine="true"
                    android:gravity="center"
                    android:padding="4dp"
                    android:hint="0.00"
                    android:background="@android:drawable/edit_text" />
            </LinearLayout>

            <Space
                android:layout_width="4dp"
                android:layout_height="wrap_content" />

            <LinearLayout
                android:layout_width="0dp"
                android:layout_weight="1"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:gravity="center_vertical">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="@string/label_torque_max"
                    android:textColor="#424242"
                    android:textSize="12sp"
                    android:layout_marginEnd="4dp" />

                <EditText
                    android:id="@+id/txtMaximoTorque"
                    android:layout_width="wrap_content"
                    android:layout_height="24dp"
                    android:ems="5"
                    android:textSize="12sp"
                    android:maxLength="5"
                    android:inputType="numberDecimal"
                    android:singleLine="true"
                    android:padding="4dp"
                    android:hint="0.00"
                    android:gravity="center"
                    android:background="@android:drawable/edit_text" />
            </LinearLayout>
        </LinearLayout>

        <!-- Tool type -->
        <LinearLayout
            android:orientation="horizontal"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:gravity="center_vertical"
            android:layout_marginTop="2dp">

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="@string/label_toolTypeName"
                android:textStyle="bold"
                android:textColor="#424242"
                android:textSize="12sp"
                android:layout_marginEnd="4dp" />

            <Spinner
                android:id="@+id/spinnerToolType"
                android:layout_width="0dp"
                android:layout_height="32dp"
                android:layout_weight="1"
                android:prompt="@string/spinner_tool_prompt" />
        </LinearLayout>
    </LinearLayout>

    <!-- CARD: Status + Results (altura do ListView controlada por 160dp) -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@android:color/white"
        android:padding="8dp"
        android:elevation="1dp"
        android:orientation="vertical">

        <TextView
            android:id="@+id/tvStatus"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="@string/status_idle"
            android:textStyle="italic"
            android:textColor="#616161"
            android:textSize="12sp"
            android:layout_marginBottom="4dp" />




        <LinearLayout
        android:id="@+id/llStatsSummary"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:paddingTop="8dp"
        android:paddingBottom="8dp"
        android:gravity="center_vertical">

    <TextView
        android:id="@+id/tvMainStatsMean"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="Mean: n/a"
        android:textSize="14sp"
        android:textColor="#000000"
        android:padding="6dp" />

    <TextView
        android:id="@+id/tvMainStatsCm"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="Cm: n/a"
        android:textSize="14sp"
        android:textColor="#000000"
        android:padding="6dp" />

    <TextView
        android:id="@+id/tvMainStatsCmk"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="Cmk: n/a"
        android:textSize="14sp"
        android:textColor="#000000"
        android:padding="6dp" />
</LinearLayout>









        


        <!-- Título + botão Clean Results na mesma linha -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center_vertical"
            android:layout_marginBottom="2dp">

            <TextView
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="@string/label_results_history"
                android:textStyle="bold"
                android:textColor="#212121"
                android:textSize="12sp" />


            <Button
            android:id="@+id/btnExportResults"
            android:layout_width="wrap_content"
            android:layout_height="32dp"
            android:text="EXPORT RESULTS"
            android:textSize="10sp"
            android:layout_marginLeft="8dp"
            android:layout_marginStart="8dp" />



            <Button
                android:id="@+id/btnClearResults"
                android:layout_width="wrap_content"
                android:layout_height="32dp"
                android:text="Clean Results"
                android:textSize="10sp" />
       
            
        </LinearLayout>



        <ListView
            android:id="@+id/lvResults"
            android:layout_width="match_parent"
            android:layout_height="130dp"
            android:dividerHeight="4dp"
            android:paddingTop="2dp"
            android:paddingBottom="2dp"
            android:scrollbars="vertical"
            android:fastScrollEnabled="true" />
    </LinearLayout>

    <!-- CARD: Controle e Debug (logs agora no final da tela) -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:background="@android:color/white"
        android:padding="8dp"
        android:layout_marginTop="6dp"
        android:elevation="1dp"
        android:orientation="vertical">

        <!-- Botões principais -->
        <LinearLayout
            android:orientation="horizontal"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:gravity="center_vertical"
            android:layout_marginBottom="4dp">

            <Button
                android:id="@+id/btnInitRead"
                android:layout_width="0dp"
                android:layout_weight="1"
                android:layout_height="36dp"
                android:text="@string/btn_initread"
                android:textSize="10sp"
                android:layout_marginEnd="4dp" />

            <Button
                android:id="@+id/btnStopRead"
                android:layout_width="0dp"
                android:layout_weight="1"
                android:layout_height="36dp"
                android:text="@string/btn_stop"
                android:textSize="10sp" />

            <Button
                 android:id="@+id/btnZeroTqAn"
                  android:layout_width="0dp"
                  android:layout_weight="1"
                  android:layout_height="36dp"
                  android:text="Zero Tq An"
                  android:textSize="10sp" />
        
        </LinearLayout>

        




        

        <!-- Painel de debug -->
        <LinearLayout
            android:id="@+id/debugPanel"
            android:orientation="vertical"
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="1"
            android:visibility="gone"
            android:layout_marginTop="4dp">

            <!-- Clear / Copy / ShowLogs -->
            <LinearLayout
                android:orientation="horizontal"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:gravity="center_vertical"
                android:layout_marginBottom="4dp">

                <Button
                    android:id="@+id/btnClearLog"
                    android:layout_width="wrap_content"
                    android:layout_height="32dp"
                    android:text="@string/btn_clearlog"
                    android:textSize="10sp" />

                <Button
                    android:id="@+id/btnCopyLog"
                    android:layout_width="wrap_content"
                    android:layout_height="32dp"
                    android:text="@string/btn_copylog"
                    android:textSize="10sp"
                    android:layout_marginStart="4dp" />

                <Space
                    android:layout_width="8dp"
                    android:layout_height="wrap_content" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="@string/label_showlogs"
                    android:textSize="12sp"
                    android:layout_marginEnd="4dp"
                    android:textColor="#424242" />

                <Switch
                    android:id="@+id/switchShowLogs"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:checked="true" />
            </LinearLayout>

            <!-- Pause Logs -->
            <LinearLayout
                android:orientation="horizontal"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:gravity="center_vertical"
                android:layout_marginBottom="4dp">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Pause Logs"
                    android:textSize="12sp"
                    android:layout_marginEnd="4dp"
                    android:textColor="#424242" />

                <Switch
                    android:id="@+id/switchPauseLogs"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:checked="false" />

                <Space
                    android:layout_width="1dp"
                    android:layout_height="wrap_content" />


                <Button
                android:id="@+id/btnExportLogs"
                android:layout_width="wrap_content"
                android:layout_height="32dp"
                android:text="EXPORT LOGS"
                android:textSize="10sp"
                android:layout_marginLeft="8dp"
                android:layout_marginStart="8dp" />

                
                    
                    <!-- Botão Oculto -->
                <Button
                android:id="@+id/btnSyncToPc"
                android:visibility="gone"
                android:layout_width="wrap_content"
                android:layout_height="32dp"
                android:text="SYNC TO PC"
                android:textSize="10sp"
                android:layout_marginLeft="8dp"
                android:layout_marginStart="8dp" />



                <!-- Botão oculto -->
                <Button
                android:id="@+id/btnExportDB"
                android:visibility="gone"
                android:layout_width="wrap_content"
                android:layout_height="32dp"
                android:text="EXP DB"
                android:textSize="10sp"
                android:layout_marginLeft="8dp"
                android:layout_marginStart="8dp" />






            </LinearLayout>

            <!-- Logs list (logContainer + lvLog) -->
            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="@string/label_logs"
                android:textStyle="bold"
                android:textSize="12sp"
                android:textColor="#212121"
                android:layout_marginBottom="2dp" />

            <LinearLayout
                android:id="@+id/logContainer"
                android:orientation="vertical"
                android:layout_width="match_parent"
                android:layout_height="0dp"
                android:layout_weight="1">

                <ListView
                    android:id="@+id/lvLog"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:dividerHeight="4dp"
                    android:paddingTop="2dp"
                    android:paddingBottom="2dp"
                    android:scrollbars="vertical"
                    android:fastScrollEnabled="true" />
            </LinearLayout>
        </LinearLayout>
    </LinearLayout>

</LinearLayout>



</ScrollView>

